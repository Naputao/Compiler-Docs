# ç»“æ„åŒ–ç»‘å®šè®©ä»£ç æ›´å¯è¯»

ç»“æ„åŒ–ç»‘å®šï¼ˆ**Structured Bindings**ï¼‰æ˜¯ C++17 å¼•å…¥çš„ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®ƒå¯ä»¥è®©ä½ åƒ Python çš„å¤šå˜é‡è§£æ„ä¸€æ ·**ç›´æ¥ä»ç»“æ„ä½“ã€æ•°ç»„ã€`std::pair`ã€`std::tuple` ç­‰ç±»å‹ä¸­ä¸€æ¬¡æ€§â€œæ‹†å‡ºâ€å¤šä¸ªå˜é‡**ã€‚

## ğŸ¯ ä¸ºä»€ä¹ˆç”¨ç»“æ„åŒ–ç»‘å®šï¼Ÿ

ä»¥å‰ä½ è¦è®¿é—® `std::pair` çš„æˆå‘˜ï¼Œè¦å†™è¿™æ ·ï¼š

```cpp
std::pair<int, std::string> p = {1, "hello"};
int id = p.first;
std::string name = p.second;
```

ç”¨äº†ç»“æ„åŒ–ç»‘å®šä¹‹åï¼Œåªéœ€ä¸€è¡Œï¼š

```cpp
auto [id, name] = p;
```

æ˜¯ä¸æ˜¯æ¸…çˆ½å¾ˆå¤šï¼ŸğŸ‘‡ç»§ç»­çœ‹ç”¨æ³•ï¼

------

## âœ… åŸºæœ¬è¯­æ³•

```cpp
auto [var1, var2, ..., varn] = object;
```

------

## ğŸ§ª ä½¿ç”¨åœºæ™¯ä¸€è§ˆ

### 1. `std::pair` / `std::tuple`

```cpp
std::tuple<int, double, std::string> tup = {42, 3.14, "pi"};
auto [i, d, s] = tup;
```

### 2. è§£æ„ `std::map` çš„å…ƒç´ 

```cpp
std::map<std::string, int> m = {{"apple", 1}, {"banana", 2}};
for (auto& [key, value] : m) {
    std::cout << key << " = " << value << "\n";
}
```

### 3. è§£æ„æ•°ç»„

```cpp
int arr[3] = {10, 20, 30};
auto [x, y, z] = arr;  // åªèƒ½ç”¨äºåŸç”Ÿæ•°ç»„ï¼Œä¸”å¤§å°å›ºå®š
```

### 4. ç”¨åœ¨ `if`/`switch` è¯­å¥ä¸­

```cpp
if (auto [it, ok] = myMap.find("key"); ok != myMap.end()) {
    std::cout << "Found: " << it->second << "\n";
}
```

------

## ğŸ¯ è§£æ„åŸç†è¦æ±‚

ç»“æ„åŒ–ç»‘å®šé€‚ç”¨äºï¼š

| ç±»å‹             | æ¡ä»¶                                                         |
| ---------------- | ------------------------------------------------------------ |
| `pair` / `tuple` | å¿…é¡»æœ‰ `get<>()` å¯è®¿é—®æˆå‘˜                                  |
| `array`          | å¿…é¡»æ˜¯å·²çŸ¥å¤§å°çš„æ•°ç»„                                         |
| è‡ªå®šä¹‰ç±»å‹       | æˆå‘˜å˜é‡å¯é€šè¿‡ `.x` `.y` `.z` `.w` æˆ– `get<>` è®¿é—®ï¼ˆå¯è‡ªå®šä¹‰ï¼‰ |

------

## ğŸ”’ å˜é‡æ˜¯æŒ‰å€¼è¿˜æ˜¯å¼•ç”¨ï¼Ÿ

```cpp
std::pair<int, std::string> p = {1, "hello"};

auto [a, b] = p;        // æ‹·è´
auto& [x, y] = p;       // å¼•ç”¨ç»‘å®šï¼Œä¿®æ”¹ x ä¼šå½±å“ p.first
const auto& [m, n] = p; // å¸¸é‡å¼•ç”¨ç»‘å®š
```

------

## ğŸ§  æ€»ç»“

| ç‰¹ç‚¹ | ä¼˜åŠ¿                                                 |
| ---- | ---------------------------------------------------- |
| ç®€æ´ | å¤šå˜é‡åˆå§‹åŒ–æ›´æ–¹ä¾¿                                   |
| æ˜“è¯» | æ˜ç¡®è¡¨è¾¾å«ä¹‰ï¼ˆæ¯”å¦‚ [key, value]ï¼‰                    |
| å¼ºå¤§ | ä¸ `range-based for`ã€ç®—æ³•ã€`if`/`switch` ç­‰é…åˆä½¿ç”¨ |